"use strict";(self.webpackChunkzipteams_api_docs=self.webpackChunkzipteams_api_docs||[]).push([[170],{7373:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"partner-api/batch-call-ingestion","title":"Batch Call Ingestion API","description":"This API allows partners to ingest multiple call recordings in a single request. The system processes each call recording asynchronously, providing an efficient way to upload multiple recordings at once.","source":"@site/docs/partner-api/batch-call-ingestion.md","sourceDirName":"partner-api","slug":"/partner-api/batch-call-ingestion","permalink":"/partner-api/batch-call-ingestion","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docs","previous":{"title":"Partner API Documentation","permalink":"/partner-api/introduction"},"next":{"title":"Disposition Status Update API","permalink":"/partner-api/disposition-status-update"}}');var i=s(4848),t=s(8453);const l={sidebar_position:2},d="Batch Call Ingestion API",c={},a=[{value:"Endpoint",id:"endpoint",level:2},{value:"Version",id:"version",level:2},{value:"Request Body",id:"request-body",level:2},{value:"Field Descriptions",id:"field-descriptions",level:3},{value:"Call Object",id:"call-object",level:4},{value:"Agent Object",id:"agent-object",level:4},{value:"Customer Object",id:"customer-object",level:4},{value:"Additional Fields",id:"additional-fields",level:4},{value:"Response",id:"response",level:2},{value:"Success Response",id:"success-response",level:3},{value:"Error Responses",id:"error-responses",level:3},{value:"Authentication Error",id:"authentication-error",level:4},{value:"Missing Tenant ID",id:"missing-tenant-id",level:4},{value:"Missing Sub-Tenant ID",id:"missing-sub-tenant-id",level:4},{value:"Validation Error",id:"validation-error",level:4},{value:"Rate Limit Exceeded",id:"rate-limit-exceeded",level:4},{value:"Server Error",id:"server-error",level:4},{value:"Example",id:"example",level:2},{value:"Request",id:"request",level:3},{value:"Response",id:"response-1",level:3},{value:"Technical Notes",id:"technical-notes",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"batch-call-ingestion-api",children:"Batch Call Ingestion API"})}),"\n",(0,i.jsx)(n.p,{children:"This API allows partners to ingest multiple call recordings in a single request. The system processes each call recording asynchronously, providing an efficient way to upload multiple recordings at once."}),"\n",(0,i.jsx)(n.h2,{id:"endpoint",children:"Endpoint"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"POST /partner/ingest/batch-call\n"})}),"\n",(0,i.jsx)(n.h2,{id:"version",children:"Version"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"v1"})}),"\n",(0,i.jsx)(n.h2,{id:"request-body",children:"Request Body"}),"\n",(0,i.jsx)(n.p,{children:"The request body should be a JSON object with the following structure:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "data": [\r\n    {\r\n      "call": {\r\n        "id": "string",\r\n        "recording_url": "string",\r\n        "start_time": "2023-01-01T00:00:00Z",\r\n        "end_time": "2023-01-01T00:30:00Z",\r\n        "contact_number": "string"\r\n      },\r\n      "agent": {\r\n        "id": "string",\r\n        "email": "string",\r\n        "name": "string"\r\n      },\r\n      "customer": {\r\n        "id": "string",\r\n        "name": "string",\r\n        "email": "string",\r\n        "disposition_status": "string"\r\n      },\r\n      "callback_url": "string",\r\n      "metadata": {\r\n        "key1": "value1",\r\n        "key2": "value2"\r\n      },\r\n      "custom_fields": [\r\n        {\r\n          "internal_name": "string",\r\n          "value": "string"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"field-descriptions",children:"Field Descriptions"}),"\n",(0,i.jsx)(n.h4,{id:"call-object",children:"Call Object"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"id"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Unique identifier for the call. Must be unique across all calls for your partner account."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"recording_url"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Publicly accessible URL to the call recording file. Supported formats: MP3, WAV, AAC, M4A."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"start_time"}),(0,i.jsx)(n.td,{children:"string (ISO 8601)"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsxs)(n.td,{children:["Start time of the call in ISO 8601 format (YYYY-MM-DDThh:mm",":ssZ","). Must be in UTC timezone."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"end_time"}),(0,i.jsx)(n.td,{children:"string (ISO 8601)"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsxs)(n.td,{children:["End time of the call in ISO 8601 format (YYYY-MM-DDThh:mm",":ssZ","). Must be in UTC timezone and must be after start_time."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"contact_number"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Contact number used for the call. Format: E.164 international format (e.g., +1234567890)."})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"agent-object",children:"Agent Object"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"id"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Unique identifier for the agent within your system."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"email"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Email address of the agent. Must be a valid email format."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"name"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Full name of the agent. Maximum length: 255 characters."})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"customer-object",children:"Customer Object"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"id"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Unique identifier for the customer within your system."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"name"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Full name of the customer. Maximum length: 255 characters."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"email"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Email address of the customer. Must be a valid email format."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"disposition_status"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Current disposition status of the customer in your system."})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"additional-fields",children:"Additional Fields"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"callback_url"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"HTTPS URL to call back when processing is complete. Must be a valid URL starting with https://."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"metadata"}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Additional metadata as key-value pairs. Maximum of 5 key-value pairs. Keys must be strings, values can be strings or numbers. These will be sent back in the callback url when processing is completed."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"custom_fields"}),(0,i.jsx)(n.td,{children:"array"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Custom fields as name-value pairs. Maximum of 10 custom fields."})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"response",children:"Response"}),"\n",(0,i.jsx)(n.h3,{id:"success-response",children:"Success Response"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": true\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"HTTP Status Code"}),": 200 OK"]}),"\n",(0,i.jsx)(n.h3,{id:"error-responses",children:"Error Responses"}),"\n",(0,i.jsx)(n.h4,{id:"authentication-error",children:"Authentication Error"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": false,\r\n  "message": "Forbidden"\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"HTTP Status Code"}),": 403 Forbidden"]}),"\n",(0,i.jsx)(n.h4,{id:"missing-tenant-id",children:"Missing Tenant ID"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": false,\r\n  "message": "Tenant ID is required"\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"HTTP Status Code"}),": 400 Bad Request"]}),"\n",(0,i.jsx)(n.h4,{id:"missing-sub-tenant-id",children:"Missing Sub-Tenant ID"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": false,\r\n  "message": "Sub-Tenant ID is required"\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"HTTP Status Code"}),": 400 Bad Request"]}),"\n",(0,i.jsx)(n.h4,{id:"validation-error",children:"Validation Error"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": false,\r\n  "message": "Validation failed",\r\n  "errors": [\r\n    {\r\n      "field": "data[0].call.id",\r\n      "message": "id should not be empty"\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"HTTP Status Code"}),": 422 Unprocessable Entity"]}),"\n",(0,i.jsx)(n.h4,{id:"rate-limit-exceeded",children:"Rate Limit Exceeded"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": false,\r\n  "message": "Rate limit exceeded. Try again in 60 seconds."\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"HTTP Status Code"}),": 429 Too Many Requests"]}),"\n",(0,i.jsx)(n.h4,{id:"server-error",children:"Server Error"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": false,\r\n  "message": "Internal server error"\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"HTTP Status Code"}),": 500 Internal Server Error"]}),"\n",(0,i.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,i.jsx)(n.h3,{id:"request",children:"Request"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST \\\r\n  https://api.zipteams.com/api/v1/partner/ingest/batch-call \\\r\n  -H \'Content-Type: application/json\' \\\r\n  -H \'x-partner-id: 123\' \\\r\n  -H \'x-tenant-id: tenant1\' \\\r\n  -H \'x-sub-tenant-id: subtenant1\' \\\r\n  -d \'{\r\n  "data": [\r\n    {\r\n      "call": {\r\n        "id": "call123",\r\n        "recording_url": "https://example.com/recordings/call123.mp3",\r\n        "start_time": "2023-01-01T10:00:00Z",\r\n        "end_time": "2023-01-01T10:30:00Z",\r\n        "contact_number": "+1234567890"\r\n      },\r\n      "agent": {\r\n        "id": "agent123",\r\n        "email": "agent@example.com",\r\n        "name": "John Doe"\r\n      },\r\n      "customer": {\r\n        "id": "customer123",\r\n        "name": "Jane Smith",\r\n        "email": "customer@example.com",\r\n        "disposition_status": "interested"\r\n      },\r\n      "industry": "Technology",\r\n      "function": "Sales",\r\n      "callback_url": "https://partner.example.com/callback",\r\n      "metadata": {\r\n        "campaign": "Q1 Outreach",\r\n        "source": "Website"\r\n      }\r\n    }\r\n  ]\r\n}\'\n'})}),"\n",(0,i.jsx)(n.h3,{id:"response-1",children:"Response"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": true\r\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"technical-notes",children:"Technical Notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The system processes each call recording asynchronously."}),"\n",(0,i.jsx)(n.li,{children:"The maximum number of calls in a single batch is 50. If you need to ingest more calls, split them into multiple requests."}),"\n",(0,i.jsx)(n.li,{children:"The maximum request payload size is 5MB."}),"\n",(0,i.jsx)(n.li,{children:"Supported recording formats: MP3, WAV, ACC, M4A, MP4."}),"\n",(0,i.jsx)(n.li,{children:"Recordings must be publicly accessible via the provided URL."}),"\n",(0,i.jsx)(n.li,{children:"Processing time depends on the length and quality of the recording."}),"\n",(0,i.jsxs)(n.li,{children:["If the ",(0,i.jsx)(n.code,{children:"callback_url"})," is provided, the system will call back with the processing results when complete."]}),"\n",(0,i.jsx)(n.li,{children:"Callbacks will retry up to 3 times with exponential backoff if the callback endpoint returns an error."}),"\n",(0,i.jsx)(n.li,{children:"All timestamps must be in UTC timezone in ISO 8601 format."}),"\n",(0,i.jsx)(n.li,{children:"The API is idempotent - submitting the same call ID multiple times will not result in duplicate processing."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>d});var r=s(6540);const i={},t=r.createContext(i);function l(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);